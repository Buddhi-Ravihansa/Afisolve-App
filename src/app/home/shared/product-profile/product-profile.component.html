<mat-card>
  <mat-card-header style="display: block">
    <div class="row " >
      <div class="col-10" style="padding-left: 5%">
        <mat-card-title>Product Details</mat-card-title>
        <mat-card-subtitle *ngIf="PRODUCT_DETAILS_DATA">
           Name: {{ PRODUCT_DETAILS_DATA.productName +'   ID: '+ PRODUCT_DETAILS_DATA.productID}}
        </mat-card-subtitle>
      </div>

      <div class="col-2" >
        <button mat-icon-button
                style=" margin-top: -10px"
                (click)="productService.ChangeProductProfileModeBooleanSubjectValue(false)">
          <mat-icon>close</mat-icon>
        </button>
      </div>
    </div>
  </mat-card-header>

  <mat-card-content>

    <div>
      <mat-list *ngIf="!!PRODUCT_DETAILS_DATA">

        <mat-list-item>
          <div class=" w-50">product ID:</div>
          <div class="text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.productID; else productIDBlock"><i> Not Available</i></span>
            <ng-template #productIDBlock>
                <span> {{ PRODUCT_DETAILS_DATA.productID }}
                  <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">product Name:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.productName; else productNameBlock"><i> Not Available</i></span>
            <ng-template #productNameBlock>
              <span> {{ PRODUCT_DETAILS_DATA.productName }} <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">Category:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.category; else categoryBlock"><i> Not Available</i></span>
            <ng-template #categoryBlock>
              <span> {{ PRODUCT_DETAILS_DATA.category }} <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">Customer Email:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.customerEmail; else customerEmailBlock"><i> Not Available</i></span>
            <ng-template #customerEmailBlock>
              <span> {{ PRODUCT_DETAILS_DATA.customerEmail }} <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">Customer Name:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.customerFirstName; else customerNameBlock"><i> Not Available</i></span>
            <ng-template #customerNameBlock>
                <span> {{ PRODUCT_DETAILS_DATA.customerFirstName + ' ' + PRODUCT_DETAILS_DATA.customerLastName }}
                  <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">Account Coordinator Email:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.accountCoordinatorEmail; else accountCoordinatorEmailBlock"><i> Not Available</i></span>
            <ng-template #accountCoordinatorEmailBlock>
              <div [hidden]="isHiddenAc">
              <span> {{ PRODUCT_DETAILS_DATA.accountCoordinatorEmail }} <br/></span>
              </div>
              <div [hidden]="!isHiddenAc">
               <span>Not Available</span>
              </div>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">Account Coordinator Name:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.accountCoordinatorFirstName; else accountCoordinatorNameBlock"><i> Not Available</i></span>
            <ng-template #accountCoordinatorNameBlock>
              <div [hidden]="isHiddenAc">
                <span style="display: inline-block"> {{ PRODUCT_DETAILS_DATA.accountCoordinatorFirstName + ' ' + PRODUCT_DETAILS_DATA.accountCoordinatorLastName }}
                </span>
                <button mat-icon-button color="accent" (click)="editAc()"><mat-icon class="mat-18">edit</mat-icon></button>
              </div>
              <div [hidden]="!isHiddenAc">
                <mat-form-field>
                  <mat-label>New Account Coordinator</mat-label>
                  <mat-select [(ngModel)]="selectedValue">
                    <mat-option *ngFor="let food of accData" [value]="food" >
                      {{food.firstName}} {{food.lastName}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <button (click)="submitNewAc()">Save</button> <button (click)="cancel()">Cancel</button>
              </div>
            </ng-template>
          </div>
        </mat-list-item>
        <br/>

        <mat-list-item>
          <div class=" w-50">Project Manager Email:</div>
          <div class=" text-secondary w-50">
              <span
                *ngIf="!PRODUCT_DETAILS_DATA.projectManagerEmail; else projectManagerEmailBlock"><i> Not Available</i></span>
            <ng-template #projectManagerEmailBlock>
              <div [hidden]="isHiddenPm">
              <span> {{ PRODUCT_DETAILS_DATA.projectManagerEmail }} <br/></span>
              </div>
              <div [hidden]="!isHiddenPm">
                <span>Not Available</span>
              </div>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">Project Manager Name:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.projectManagerFirstName; else projectManagerNameBlock"><i> Not Available</i></span>
            <ng-template #projectManagerNameBlock>
              <div [hidden]="isHiddenPm">
                <span style="display: inline-block"> {{ PRODUCT_DETAILS_DATA.projectManagerFirstName + ' ' + PRODUCT_DETAILS_DATA.projectManagerLastName  }}
                  </span>
                <button mat-icon-button color="accent" (click)="editPm()"><mat-icon class="mat-18">edit</mat-icon></button>
              </div>
              <div [hidden]="!isHiddenPm">
                <mat-form-field>
                  <mat-label>Choose new Project Manager</mat-label>
                  <mat-select [(ngModel)]="selectedValue1">
                    <mat-option *ngFor="let food of pmData" [value]="food" >
                      {{food.firstName}} {{food.lastName}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <button (click)="submitNewPm(1,2,3)">Save</button> <button (click)="cancel()">Cancel</button>
              </div>
            </ng-template>
          </div>
        </mat-list-item>
        <br>

        <mat-list-item>
          <div class=" w-50">Developers:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.dev; else developerNameBlock"><i> Not Available</i></span>
            <ng-template #developerNameBlock>
              <div [hidden]="isHiddenDD">
<!--                <mat-form-field appearance="fill">-->
<!--                  <mat-select [formControl]="toppings" multiple >-->
<!--                    <mat-option *ngFor="let topping of PRODUCT_DETAILS_DATA.dev" [value]="topping.devID" [disabled]="PRODUCT_DETAILS_DATA">{{topping.devFirst}} {{topping.devLast}}</mat-option>-->
<!--                  </mat-select>-->
<!--                </mat-form-field>-->
                <button (click)="editDev()">edit</button>
              </div>
                <div [hidden]="!isHiddenDD">
                  <mat-form-field appearance="fill">
                    <mat-label>Toppings</mat-label>
                    <mat-select [formControl]="toppings" [(ngModel)]="newSelected" multiple >
                      <mat-option *ngFor="let topping of ddData" [value]="topping.devID" >{{topping.devFirst}} {{topping.devLast}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button (click)="submitNewDev()">save</button>
                  <button (click)="cancel()">cancel</button>
                </div>
            </ng-template>
          </div>
        </mat-list-item>
        <br>

        <mat-list-item>
          <div class=" w-50">Created At:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.createdAt; else createdAtBlock"><i> Not Available</i></span>
            <ng-template #createdAtBlock>
                <span> {{ PRODUCT_DETAILS_DATA.createdAt}}
                  <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">created By:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.createdBy; else createdByBlock"><i> Not Available</i></span>
            <ng-template #createdByBlock>
                <span> {{ PRODUCT_DETAILS_DATA.createdBy}}
                  <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">modified At:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.modifiedAt; else modifiedAtBlock"><i> Not Available</i></span>
            <ng-template #modifiedAtBlock>
                <span> {{ PRODUCT_DETAILS_DATA.modifiedAt}}
                  <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item>
          <div class=" w-50">modified By:</div>
          <div class=" text-secondary w-50">
            <span *ngIf="!PRODUCT_DETAILS_DATA.modifiedBy; else modifiedByBlock"><i> Not Available</i></span>
            <ng-template #modifiedByBlock>
                <span> {{ PRODUCT_DETAILS_DATA.modifiedBy}}
                  <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

      </mat-list>
    </div>

    <mat-divider style="margin-top: 3%"></mat-divider>

     <!--Complaints Details with this product-->
    <div>
      <mat-card-header style="padding-top: 5%">
        <mat-card-title>Complaints </mat-card-title>
        <mat-card-subtitle *ngIf="!!COMPLAINTS_PRODUCT_DATA.length">All : {{COMPLAINTS_PRODUCT_DATA.length}} </mat-card-subtitle>

      </mat-card-header>
      <mat-list *ngIf="!!COMPLAINTS_PRODUCT_DATA">

        <mat-list-item *ngFor="let singleComplaintDetail of COMPLAINTS_PRODUCT_DATA">
          <div class=" w-25">ID :</div>
          <div class="text-secondary w-25">
            <span *ngIf="!singleComplaintDetail.complaintID; else complaintIDBlock"><i> Not Available</i></span>
            <ng-template #complaintIDBlock>
              <span> {{ singleComplaintDetail.complaintID }} <br/></span>
            </ng-template>
          </div>

          <div class=" w-25">Date : </div>
          <div class="text-secondary w-75">
            <span *ngIf="!singleComplaintDetail.submittedDate; else submitDateBlock"><i> Not Available</i></span>
            <ng-template #submitDateBlock>
              <span> {{ singleComplaintDetail.submittedDate }} <br/></span>
            </ng-template>
          </div>
        </mat-list-item>

        <mat-list-item *ngIf="!COMPLAINTS_PRODUCT_DATA.length">
          <div class="text-secondary w-100">
            <span ><i> Not available any complaint with this product </i></span>
          </div>
        </mat-list-item>


      </mat-list>
    </div>

  </mat-card-content>
</mat-card>
