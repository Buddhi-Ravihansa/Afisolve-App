<div [hidden]="addNewComplaintService.isLodgeComplaintMode">
  <mat-card class="m-5 shadow h-100">
    <mat-card-title>Purchases</mat-card-title>
    <hr>
    <mat-form-field class="w-75 m-3">
      <mat-label>Filter</mat-label>
      <input matInput placeholder="Ex.first user" (keyup)="applyFilter($event)">
    </mat-form-field>

    <div>
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 w-100">

        <!-- productID Column -->
        <ng-container matColumnDef="productID">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Id</th>
          <td mat-cell *matCellDef="let element"> {{element.productID}} </td>
        </ng-container>

        <!-- productName Column -->
        <ng-container matColumnDef="productName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Name</th>
          <td mat-cell *matCellDef="let element"> {{element.productName}} </td>
        </ng-container>

        <!-- createdAt Column-->
        <ng-container matColumnDef="createdAt">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Purchase At</th>
          <td mat-cell *matCellDef="let element"> {{element.createdAt}} </td>
        </ng-container>

        <!-- Category Column -->
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Category</th>
          <td mat-cell *matCellDef="let element"> {{element.category}} </td>
        </ng-container>

        <!-- add complaint Column -->
        <ng-container matColumnDef="details">
          <th mat-header-cell *matHeaderCellDef> Add Complaint</th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button (click)="clickAddComplaint(element.productID)">
              <mat-icon class="mat-18">post_add</mat-icon>
            </button>
          </td>
        </ng-container>

        <!-------------------------------------------------------------------------------------------->

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>
      <mat-paginator [length]="5" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]">
      </mat-paginator>
    </div>
  </mat-card>
</div>

<div [hidden]="!addNewComplaintService.isLodgeComplaintMode">
  <app-add-new-complaint [reqProductID]=reqProductIDParent></app-add-new-complaint>
</div>

